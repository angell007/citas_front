<div class="row">
    <div class="col12">

    </div>
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="row ">
                    <div class="col-12 ">
                        <h4 class="">Datos de profesionales</h4>
                    </div>

                </div>
                <div class="row  d-flex align-items-baseline mb-4">
                    <div class="col-6">
                        <button (click)="newModal.show()" class="btn btn-primary btn-sm">
              <i class="fa fa-user-md"></i>
              Nuevo Profesional</button>
                    </div>
                    <div class="col-6 d-flex justify-content-end">
                        <form class="form-inline">
                            <div class="form-group">
                                <label for="inputPassword6">Buscar:</label>
                                <input type="password" id="inputPassword6" placeholder="Buscador de profesionales" class="form-control mx-sm-3" aria-describedby="passwordHelpInline">
                            </div>
                        </form>
                    </div>

                </div>

                <div class="">
                    <table class="table table-hover mb-0 table-centered table-nowrap ">
                        <thead class="thead-dark ">
                            <tr>
                                <th>Identificación</th>
                                <th>Nombres</th>
                                <th>Ciudad</th>
                                <th>Empresa</th>
                                <th>Estado</th>
                                <th class="text-right "> </th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of professionals ">
                                <td>
                                    <p class="font-size-14 mb-0 ">{{item.identification}}</p>
                                </td>
                                <td>
                                    <p class="font-size-14 mb-0 ">{{item.city}}</p>
                                </td>
                                <td>
                                    <p class="font-size-14 mb-0 ">{{item.names}}</p>
                                </td>
                                <td>
                                    <p class="font-size-14 mb-0 ">{{item.company}}</p>
                                </td>
                                <td>
                                    <p class="font-size-14 mb-0 ">{{item.state}}</p>
                                </td>

                                <td class="text-right ">

                                    <div class="btn-group " role="group " ngbDropdown>
                                        <button id="btnGroupVerticalDrop1 " type="button " class="btn btn-primary btn-sm dropdown-toggle " ngbDropdownToggle>
                      Acciones <i class="mdi mdi-chevron-down "></i>
                    </button>
                                        <div style="cursor: pointer; " class="dropdown-menu font-weight-bolder " aria-labelledby="btnGroupVerticalDrop1 " ngbDropdownMenu>
                                            <a class="dropdown-item "> <i class="fa fa-search mr-2 "></i>Ver más</a>
                                            <a class="dropdown-item "> <i class="fa fa-edit mr-2 "></i>Editar </a>
                                            <a class="dropdown-item "> <i class="fa fa-ban mr-2 "></i>Suspender </a>
                                        </div>
                                    </div>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div class="row align-items-right mt-2 ">
                    <!--      <div class="col-sm-12 col-md-5 ">
                        <div class="dataTables_info mb-2 " id="tickets-table_info " role="status " aria-live="polite ">Showing entries
                        </div>
                    </div> -->
                    <div class="col-sm-12 ">
                        <div class="text-md-right float-md-right pagination-rounded ">
                            <ngb-pagination [collectionSize]="pagination.collectionSize " [pageSize]="pagination.pageSize " [(page)]="pagination.page " aria-label="Default pagination "></ngb-pagination>
                        </div>
                    </div>
                </div>



            </div>
        </div>
    </div>

</div>


<app-modal-basic #newModal [dialogClass]="'modal-lg modal-full'">
    <div class="app-modal-header">
        <div class="row">
            <h4 class=" text text-center justify-content-center modal-title   px-3">
                Nuevo Profesional
            </h4>
            <button type="button" class="close basic-close" (click)="newModal.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
        </div>
    </div>
    <div class="app-modal-body">

        <div class="row">




            <div class="col-2 mb-2">
                <label for="validationServerUsername">Tipo Ident.</label>
                <div class="input-group">
                    <select [(ngModel)]="professional.type_identification_id" class="custom-select" name="Id_Tipo_Identificacion">
            <option [value]="type.Id" *ngFor="let type of typesDocuments">{{type.Nombre}}</option>
          </select>
                    <!-- <input type="text" class="form-control" id="validationServerUsername"
                        placeholder="Ingrese la aria-describedby="inputGroupPrepend3" required> -->
                </div>
            </div>
            <div class="col-4 mb-2">
                <label for="validationServerUsername">Identificación</label>
                <div class="input-group">
                    <input [(ngModel)]="professional.identification" type="text" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-3 mb-2">
                <label for="validationServerUsername">Primer Nombre</label>
                <div class="input-group">
                    <input [(ngModel)]="professional.first_name" type="text" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-3 mb-2">
                <label for="validationServerUsername">Segundo Nombre</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="professional.second_name" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-3 mb-2">
                <label for="validationServerUsername">Primer Apellido</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="professional.first_surname" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-md-3 mb-2">
                <label for="validationServerUsername">Segundo Apellido</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="professional.second_surname" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-md-3 mb-2">
                <label for="validationServerUsername">Fecha Nac.</label>
                <div class="input-group">
                    <input type="date" [(ngModel)]="professional.birth_day" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-3 mb-2">
                <label for="validationServerUsername">Est. Civil</label>
                <div class="input-group">
                    <select class="custom-select " [(ngModel)]="professional.civil_state" name="Id_Tipo_Identificacion">
            <option [value]="type.Id" *ngFor="let type of civilStates">{{type.Nombre}}</option>
          </select>

                </div>
            </div>



            <div class="col-md-4 mb-2">
                <label for="validationServerUsername">IPS Principal</label>
                <div class="input-group">

                    <ng-select class="col-12 m-0 p-0" [items]="companies" bindLabel="text" bindValue="value" [(ngModel)]="professional.Ips" name="type_agenda_id" loadingText="loading" ngDefaultControl>
                    </ng-select>
                </div>
            </div>
            <div class="col-md-8 mb-2">
                <label for="validationServerUsername">Instuciones Hab.</label>
                <div class="input-group">
                    <ng-select class="col-12 m-0 p-0" multiple="true" [items]="companies" bindLabel="text" bindValue="value" [(ngModel)]="professional.companies" name="type_agenda_id" loadingText="loading" ngDefaultControl>
                    </ng-select>
                </div>
            </div>



            <div class="col-md-4 mb-2">
                <label for="validationServerUsername">Departamento</label>
                <div class="input-group">


                    <ng-select class="col-12 m-0 p-0" [items]="departaments" bindLabel="text" bindValue="value" [(ngModel)]="professional.departament_id" name="type_agenda_id" loadingText="loading" ngDefaultControl (ngModelChange)="searchMun()">
                    </ng-select>
                </div>
            </div>
            <div class="col-md-3 mb-2">
                <label for="validationServerUsername">Municipio</label>
                <div class="input-group">
                    <ng-select class="col-12 m-0 p-0" [items]="municipalities" bindLabel="text" bindValue="value" [(ngModel)]="professional.municipality_id" name="type_agenda_id" loadingText="loading" ngDefaultControl>
                    </ng-select>
                </div>
            </div>
            <div class="col-5 mb-2">
                <label for="validationServerUsername">Especialidades</label>
                <div class="input-group">
                    <ng-select class="col-12 m-0 p-0" [items]="specialities" bindLabel="text" bindValue="value" multiple="true" [(ngModel)]="professional.specialities" name="type_agenda_id" loadingText="loading" ngDefaultControl>
                    </ng-select>
                </div>
            </div>


            <div class="col-md-4 mb-2">
                <label for="validationServerUsername">Correo</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="professional.email" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>

            <div class="col-md-4 mb-2">
                <label for="validationServerUsername">Celular</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="professional.celphone" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-md-4 mb-2">
                <label for="validationServerUsername">Telefono</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="professional.telphone" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-md-3 mb-2">
                <label for="validationServerUsername">Tipo Profesional</label>
                <div class="input-group">

                    <ng-select class="col-12 m-0 p-0" [items]="professional_types" bindLabel="text" bindValue="value" [(ngModel)]="professional.professional_type_id" name="type_agenda_id" loadingText="loading" ngDefaultControl>
                    </ng-select>
                </div>
            </div>


            <div class="col-md-3 mb-2">
                <label for="validationServerUsername">Reg. Médico</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="professional.medical_register" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-md-3 mb-2">
                <label for="validationServerUsername">Foto</label>
                <div class="input-group">
                    <input type="file" [(ngModel)]="photo_blob" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>
            <div class="col-md-3 mb-2">
                <label for="validationServerUsername">Firma</label>
                <div class="input-group">
                    <input type="file" [(ngModel)]="firma_blob" class="form-control" id="validationServerUsername" aria-describedby="inputGroupPrepend3" required>
                </div>
            </div>




            <div class="col-12 mt-2">



            </div>



        </div>





    </div>
    <div class="app-modal-footer ">
        <div class="text-right  px-3">
            <button (click)="guardar()" class="btn btn-primary btn-block btn-sm">Guardar Profesional</button>

        </div>
    </div>
</app-modal-basic>